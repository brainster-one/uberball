<navigation:Page
	x:Class="Uberball.Game.Client.Areas.MatchArea.Views.Pages.MatchPage" 
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	xmlns:navigation="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Navigation"
	xmlns:toolkit="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Toolkit"
	xmlns:thersuli="clr-namespace:Thersuli.MarkupExtensions;assembly=Thersuli"
	DataContext="{Binding Source={StaticResource ViewModelLocator}, Path=MatchViewModel}"
	d:DataContext="{Binding Source={StaticResource DesignerViewModelLocator}, Path=MatchViewModel}"
	d:DesignWidth="640" d:DesignHeight="480" mc:Ignorable="d">

	<Grid Loaded="{thersuli:InvokeCommand Command=ConnectCommand}"
	      KeyDown="{thersuli:InvokeCommand Command=KeyPressCommand, Parameter=True}"
	      KeyUp="{thersuli:InvokeCommand Command=KeyPressCommand, Parameter=False}">
		
		<ItemsControl ItemsSource="{Binding Path=Entities}" ItemTemplate="{Binding Source={StaticResource EntityViewSelectorDataTemplate}}">
			<ItemsControl.ItemsPanel>
				<ItemsPanelTemplate>
					<Canvas Background="LightGreen" />
				</ItemsPanelTemplate>
			</ItemsControl.ItemsPanel>
		</ItemsControl>

		<toolkit:BusyIndicator IsBusy="{Binding IsBusy}" />
	</Grid>
</navigation:Page>
